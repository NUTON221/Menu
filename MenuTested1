-- –ü–æ–¥–∫–ª—é—á–∞–µ–º UI –±–∏–±–ª–∏–æ—Ç–µ–∫—É
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Robojini/Tuturial_UI_Library/main/UI_Template_1"))()

-- –°–æ–∑–¥–∞—ë–º –æ–∫–Ω–æ –∏ –≤–∫–ª–∞–¥–∫–∏
local Window = Library.CreateLib("NeytronHub", "RJTheme5")
local Tab = Window:NewTab("Main")
local Section = Tab:NewSection("Mains")

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
local loopEnabled = false
local delayTime = 15 -- –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

-- –ö—ç—à–∏—Ä—É–µ–º Remote
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")
local StartLocalPlayerTeleport = Remotes:WaitForChild("StartLocalPlayerTeleport")

-- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã
local function safeFire(mapId)
    local args = {
        {
            mapId = mapId
        }
    }
    local ok, err = pcall(function()
        StartLocalPlayerTeleport:FireServer(unpack(args))
    end)
    if not ok then
        warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ StartLocalPlayerTeleport:", err)
    end
end

-- –°–ª–∞–π–¥–µ—Ä –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏
Section:NewSlider("–≤—Ä–µ–º—è –º–µ–∂–¥—É —Ç–ø", "–†–µ–≥—É–ª–∏—Ä—É–π –≤—Ä–µ–º—è –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏", 60, 1, function(value)
    delayTime = value
    print("–ù–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞:", delayTime, "—Å–µ–∫—É–Ω–¥")
end)

-- –¢—É–º–±–ª–µ—Ä –∑–∞–ø—É—Å–∫–∞ —Ü–∏–∫–ª–∞
Section:NewToggle("–¶–∏–∫–ª —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞ 50001-50009", "–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —à–ª—ë—Ç mapId 50001..50009", function(state)
    loopEnabled = state

    if loopEnabled then
        print("–¶–∏–∫–ª —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞ –∑–∞–ø—É—â—ë–Ω")
        task.spawn(function()
            while loopEnabled do
                for id = 50001, 50009 do
                    if not loopEnabled then break end

                    safeFire(id)
                    print("–û—Ç–ø—Ä–∞–≤–ª–µ–Ω mapId:", id)

                    -- –ø—Ä–µ—Ä—ã–≤–∞–µ–º–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
                    local step = 0.25
                    local elapsed = 0
                    while elapsed < delayTime and loopEnabled do
                        task.wait(step)
                        elapsed = elapsed + step
                    end
                    if not loopEnabled then break end
                end
            end
            print("–¶–∏–∫–ª —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
        end)
    else
        print("–¶–∏–∫–ª —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞ –≤—ã–∫–ª—é—á–µ–Ω")
    end
end)

---------------------------------------------------------------------
-- üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –æ–∫–Ω–∞
---------------------------------------------------------------------
task.wait(1) -- –∂–¥—ë–º, —á—Ç–æ–±—ã GUI —É—Å–ø–µ–ª –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è

local gui = game.CoreGui:WaitForChild("NeytronHub") -- –∏–º—è —Ç–≤–æ–µ–≥–æ GUI
local mainFrame = gui:WaitForChild("Main") -- –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º
local topBar = mainFrame:WaitForChild("TopBar") -- —à–∞–ø–∫–∞ –æ–∫–Ω–∞ (–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º –∑–∞ –Ω–µ—ë)

local UserInputService = game:GetService("UserInputService")
local dragging = false
local dragStart, startPos

local function update(input)
	if dragging then
		local delta = input.Position - dragStart
		mainFrame.Position = UDim2.new(
			0, startPos.X.Offset + delta.X,
			0, startPos.Y.Offset + delta.Y
		)
	end
end

topBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1
	or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = mainFrame.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

topBar.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement
	or input.UserInputType == Enum.UserInputType.Touch then
		update(input)
	end
end)
